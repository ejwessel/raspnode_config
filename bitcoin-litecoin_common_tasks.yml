- name: Autogen Command {{ currency_type }}
  tags: autogen
  command: sh autogen.sh
  args:
    chdir: "{{ userpath }}/Dev/{{ currency_type }}" 

- name: Configure Command {{ currency_type }}
  tags: configure
  command: sh configure --disable-wallet
  args: 
    chdir: "{{ userpath }}/Dev/{{ currency_type }}"

- name: Make Command {{ currency_type }}
  tags: make
  command: make -j2
  args:
    chdir: "{{ userpath }}/Dev/{{ currency_type }}" 

- name: Install {{ currency_type }}
  tags: install
  become: true
  command: make install
  args:
    chdir: "{{ userpath }}/Dev/{{ currency_type }}" 

- name: Setup monitrc file for {{ currency_type }}
  tags: setup_monitrc
  become: true
  blockinfile:
    dest: "{{ monit_control_path }}"
    create: yes
    owner: root
    group: root
    mode: 0600
    block: |
      {{ monitrc_file_content }}

#- name: Run {{ currency_type }} Daemon
#  tags: run_daemon
#  command: "{{ currency_type }}d -datadir={{ blockchainpath }} -daemon"
#  args:
#    chdir: "{{ userpath }}"
